# 포인터의 개념

지금까지는 변수는 그 자체로 자신의 자료형에 맞는 값을 저장합니다. **포인터 변수는 특이한 변수로, 메모리 주소를 저장합니다.**

<img src="../images_for_markdown/pointer.png" alt="pointer" width="100%" />

기존에 a를 이용해서라도 5라는 값을 찾을 수 있지만 포인터 변수인 p를 이용해서라도 5라는 값을 찾을 수 있습니다.

다시 말해, **포인터 변수 p는 특정한 변수 자체가 존재하는 메모리 주소의 값을 가집니다.**

```cpp
#include <stdio.h>

int main(void)
{
    int a = 5;
    int *p = &a;
    printf("%d\n", *p);

    return 0;
}

/*
[실행 결과]
5
*/
```

`int *p = &a;` 처럼 '선언할 때' 쓰는 *는 포인터 변수임을 알려주기 위한 목적을 가집니다. 이때의 *는 포인터라고 합니다. 이후에 *p라고 쓰게 되면, (이때의 *를 간접 참조 연산자라고 합니다.) 이것은 포인터 변수 p가 가리키는 값인 5을 의미합니다.

- **주소 연산자 &** : 변수 앞에 붙어서 변수의 메모리 시작 주소의 값을 구합니다.

- **포인터 \*** : 포인터 변수를 선언할 때 사용합니다.

- **간접 참조 연산자 \*** : 선언된 포인터 변수가 가리키는 변수를 구합니다.

<br>

```cpp
// 주소 연산자를 활용하여 배열의 각 원소의 주소 출력하기
#include <stdio.h>

int main(void)
{
    // 각 원소가 4 byte (int형) 크기를 가지고 있으므로 총 배열의 크기는 40 byte
    int a[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};

    for (int i = 0; i < 10; i++)
    {
        printf("%d\n", &a[i]); // 배열 안의 원소의 주소 값
    }

    return 0;
}

/*
[실행 결과]
-272633080
-272633076
-272633072
-272633068
-272633064
-272633060
-272633056
-272633052
*/
```

```cpp
// 자세히 다 출력해보기
#include <stdio.h>

int main(void)
{
    int a = 17;
    int *p = &a;

    printf("a의 주소 : %d\n", &a); // -272633048
    printf("a의 값 : %d\n", a); // 17

    printf("*p의 주소 : %d\n", &*p); // -272633048
    printf("*p의 값 : %d\n", *p); // 17
    printf("포인터 변수 p의 값 : %d\n", p); // -272633048 (가리키는 변수의 주소)
    printf("포인터 변수 p 자신의 주소 : %d\n", &p); // -272633056

    printf("간접 참조 연산자를 이용해서 a의 값 표현 : %d\n", *&a); // 17
    return 0;
}

/*
[실행 결과]
a의 주소 : -272633048
a의 값 : 17
*p의 주소 : -272633048
*p의 값 : 17
포인터 변수 p의 값 : -272633048
포인터 변수 p 자신의 주소 : -272633056
간접 참조 연산자를 이용해서 a의 값 표현 : 17
*/
```

# 포인터의 강력한 기능

포인터는 컴퓨터 시스템의 특정한 메모리에 바로 접근할 수 있습니다.
따라서 기존에 존재하던 중요한 메모리 영역에 접근하지 않도록 해야합니다.
다음과 같은 코드는 굉장히 위험한 코드입니다.

```cpp
int a = 17; // 만약 17이 중요한 값이라고 하자.
int *p = &a;
*p = 0; // 함부로 접근 하는 것에 주의
```

# 다중 포인터

```cpp
#include <stdio.h>

int main(void)
{
    int a = 17;
    int *b = &a;
    int **c = &b;

    printf("%d\n", **c); // 17
    return 0;
}

/*
[실행 결과]
17
*/
```

위의 코드에서 포인터 변수 c는 포인터 변수 b를 가리키고 포인터 변수 b는 변수 a를 가리킵니다.

# 배열과 포인터

배열과 포인터는 사실 동일합니다. 배열을 선언한 이후에는 그 이름 자체가 배열의 주소입니다.

```cpp
#include <stdio.h>

int main(void)
{
    int a[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
    int *p = a;
    printf("%d\n", *p);   // 1
    printf("5d\n", p[2]); // 3

    return 0;
}

/*
[실행 결과]
1
3
*/
```
