# 웹 프로그래밍의 이해

## 웹 프로그래밍이란

웹 프로그래밍이란, **HTTP 프로토콜로 통신하는 클라이언트와 서버를 개발하는 것이다.** 웹 클라이언트와 웹 서버를 같이 개발할 수도 있고, 웹 클라이언트 또는 웹 서버 하나만 개발할 수도 있다.

<br>

브라우저를 실행하여 구글에 접속하는 것도 웹 프로그램이 동작하는 것이라고 볼 수 있다. 이 경우에는 브라우저가 웹 클라이언트이고, 네이버 서버가 웹 서버가 되는 것이다.

<br>

즉, 웹 클라이언트가 요청하고 웹 서버가 응답하는 클라이언트-서버 프로그램이 동작하는 것이다.

<br>

브라우저 이외에도 웹 서버에 요젗을 보내는 웹 클라이언트는 다양하게 만들 수 있다.

## 웹 브라우저를 사용하여 요청

## 리눅스 `curl` 명령을 사용하여 요청

`$ curl www.google.com`

## 리눅스의 `telnet` 프로그램을 사용하여 요청

## 직접 만든 클라이언트로 요청

```python
import requests

print(requests.get('https://www.google.com').text)
```

<br>

---

<br>

## HTTP 프로토콜

HTTP는 웹 서버와 웹 클라이언트 사이에서 데이터를 주고받기 위해 사용하는 통신 방식으로, TCP/IP 프로토콜 위에서 동작한다.

즉, 웹 서버와 웹 클라이언트는 각각 TCP/IP 동작에 필수적인 IP 주소를 가져야 한다는 것이다.

HTTP란 이름대로라면 하이퍼 텍스트(HyperText) 전송용 프로토콜이지만, 실제로는 HTML이나 XML과 같은 하이퍼 텍스트뿐만 아니라 이미지, 음성, 동영상, 자바스크립트, PDF와 각종 오피스 도큐먼트 파일 등 컴퓨터에서 다룰 수 있는 데이터라면 무엇이든 전송할 수 있다.

<br>

---

<br>

## HTTP 메세지의 구조

HTTP 메세지는 클라이언트에서 서버로 보내는 요청 메세지와 서버에서 클라이언트로 보내는 응답 메세지 2 가지가 있고, 그 구조는 다음과 같다.

| HTTP 메세지의 구조                               |
| ------------------------------------------------ |
| 스타트라인 (Start Line) : 요청라인 또는 상태라인 |
| 헤더 (Header) : 헤더는 생략 가능                 |
| 빈 줄 (Blank Line) : 헤더의 끝을 빈 줄로 식별    |
| 바디 (Body) : 바디는 생략 가능                   |

<br>

**스타트라인**은 요청 메세지인 경우는 요청라인이라고 하고, 응답 메세지인 경우는 **상태라인**이라고 한다.

다음은 바디가 없는 요청 메세지의 예시이다.

```
GET /blog/post/ HTTP/1.1
Host: amamov.com:8080
```

첫 번째 줄은 요청라인으로, **요청 방식**, **요청 URI**, **프로토콜 버전**으로 구성된다.
두 번째 줄은 헤더로, **이름: 값** 형식으로 표현하며, 위 예시의 경우 헤더가 한 줄 뿐이지만 여러 줄도 가능하다.

> URI는 Uniform Resource Identifier의 약자로 URL(Uniform Resource Locator)과 URN(Unoform Resource Name)을 포함하는 좀 더 넓은 의미의 표현이지만, 웹 프로그래밍에서는 URI와 URL을 동일한 의미로 사용해도 무방하다.

Host 항목은 필수로 표시해줘야 하는데, 위 예시처럼 Host 헤더로 표시할 수도 있고, 아래 예시처럼 요청라인의 URI에 Host 헤더는 생략 가능하다.

```
GET http://amamov.com:8080/blog/post/ HTTP/1.1
```

다음은 응답 메세지의 예시이다.

```
HTTP/1.1 200 OK
Content-Type: application/xhtml+xml; charset=utf-8

<html>
...
</html>
```

첫 번째 줄의 상태라인은 **프로토콜 버전**, **상태 코드**, **상태 텍스트**로 구성된다. 서버에서 처리 결과를 상태라인에 표시하는데, 위 예시에서는 `200 OK`이므로 정상적으로 처리되었음을 알 수 있다.

두 번째 줄부터 헤더이다. 위 예시는 헤더 항목이 하나뿐인 응답 메세지로, 이 메세지는 바디를 갖고 있기 때문에 헤더와 바디를 빈 줄로 구분하고 있다. 바디에서는 HTML이 포함되어 있다.
