# 컴퓨터 구조론

## 컴퓨터 시스템의 기본 구조

- Application Software (응용 소프트웨어)
- System SoftWare (시스템 소프트웨어)
- Hardware (하드웨어)

> H/W : 컴퓨터 정보들의 전송 통로를 제공해 주고, 그 정보에 대한 처리가 실제 일어나게 해주는 물리적인 실체들

> S/W : 정보들이 이동하는 방향과 정보 처리의 종류를 지정해주고, 그러한 동작들이 일어나는 시간을 지정해주는 명령들의 집합

---

## 하드웨어 사양 기본 단위

### clock (클록)

- 클록은 CPU와 관련된 단위이다.
- 클록은 일정 간격으로 틱(tick)을 만들면 거기에 맞추어 CPU 안의 모든 구성 부품이 작업을 한다.
- 메인보드의 클록이 틱을 보낼 때마다 데이터를 보내거나 받는다.

### Hz (헤르츠)

- 헤르츠는 틱(tick)이 발생하는 속도를 나타내는 단위이다.
- 3.4GHz의 의미는 1초에 틱(tick)이 3.4x10<sup>9 번 발생하여 CPU가 1초에 약 34억 번의 연산(작업)을 할 수 있음을 의미한다.

### CPI

- Cycles Per Instruction

---

## 컴퓨터의 구성요소

### CPU

> Central Processing Unit

- 프로세서 (Processor)
  - **프로그램 실행**과 **데이터 처리**를 하는 컴퓨터의 두뇌
  - **Data 처리 길이에 따라** 32bit와 64bit CPU로 구분된다.

### Memory

> 기억 장치

- Main Memory (주기억장치)

  - RAM (Random Access Memory)
    - 휘발성 메모리로 작업중인 파일을 일시적으로 저장
  - ROM (Read Only Memory)
    - 비휘발성 메모리로 컴퓨터에 지시사항을 영구적으로 저장
    - S/W 초기 부팅 관련 부붙, 프린터 작동에 관여하는 펌웨어 명령 등
  - CPU와 가까이 위치하며, 반도체 기억장치 칩들로 구성된 고속 엑세스
  - 가격이 비싸고 면적을 많이 차지
    - 저장 용량의 한계

- Cash Memory (캐시 기억장치)

  - CPU와 주기억장치 간의 속도 차를 보정해주기 위해 사용하는 고속처리가 가능한 기억장치

- Secondary Memory (보조 기억 장치)
  - 기계적인 장치가 포함되기 때문에 저속 액세스
  - 저장 밀도가 높고 비트당 비용이 저가
  - 영구 저장 능력을 가진 저장장치
  - HDD, SSD, ...

### I/O device

> 입출력 장치

- 사용자와 컴퓨터 간의 대화를 위한 도구
- 각 디바이스는 CPU와 직접 연결하여 사용하기에 비효율적
- **각 디바이스별 제어기가 있어서 CPU와의 통신을 해 장치의 동작을 제어하고 Data를 처리한다.**

### System Bus

> CPU와 시스템 내의 다른 요소들 사이에 정보를 교환하는 통로

- Address Bus

- Data Bus

  - Data Bus가 32 bit인 시스템에서는 CPU가 기억장치로부터 한번에 32 bit씩 읽어올 수 있다.

- Control Bus

---

## 폰 노이만 아키텍쳐 & 하버드 아키텍쳐

![폰노이만 아키텍쳐](https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/Von_Neumann_Architecture.svg/500px-Von_Neumann_Architecture.svg.png)

<br>

| 폰 노이만 아키텍쳐                                    | 하버드 아키텍쳐                                         |
| ----------------------------------------------------- | ------------------------------------------------------- |
| 하나의 메모리에 명령어와 데이터가 모두 저장되는 구조  | 서로 다른 메모리에 명령어와 데이터가 각각 저장되는 구조 |
| Stored Program 방식의 메모리 중심 구조, 단순한 구조   | 읽기/쓰기의 병목현상 문제 해결                          |
| 명령어를 읽을 때 데이터를 읽을 수 없는 병목 현상 발생 | H/W 구조 구현 비용 높음, 복잡하다.                      |

- 폰노이만 아키텍쳐는 공유 메모리 사용으로 구현이 쉽고 저렴하다. 하지만 이로 인해, 파이프 라인 구조적 해저드가 발생하고 병목 현상이 발생한다.

- 하버드 아키텍쳐는 파이프 라인 기술 사용을 위한 최적의 환경이다. 하지만 별도 메모리 사용으로 구현 비용이 증가하고 회로구조가 복잡하다.

- 구조적 특징으로 폰 노이만 이키텍쳐는 Micro programmed 방식에 적합하고 하버드 아키텍쳐는 Hard wired 방식이 적합하다.

- 폰 노이만 아키텍쳐는 하버드 아키텍쳐에 비해서 구조적으로 단순해서 복잡한 명령어 회로를 많이 만들 수 있기 때문에 CISC 명령어 컴퓨터에 적합하다.

<br>

![비교](https://mblogthumb-phinf.pstatic.net/MjAyMDA1MjhfMTk5/MDAxNTkwNjMyNjI3MzIx.5T3C2x7AiHSIVoiUYq6eqmeI8LWdbP0ZaEARSIbSZ4kg.b9GN7dtKoYYF23qTQJG4Vw_z2kaR_bR4xrNjteeSZ7og.PNG.with_msip/%EC%82%AC%EC%A7%845.PNG?type=w800)

---

## CISC & RISC

> 명령어의 집합 구조에 따라 컴퓨터 시스템을 분류한다.

| CISC                                                                                                 | RISC                                                                                                            |
| ---------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------- |
| Complex Instruction Set Computer                                                                     | Reduced Instruction Set Computer                                                                                |
| 복잡한 명령처리를 하나의 명령어로 실행할 수 있도록 다수의 복잡한 명령어를 H/W화한 복합 명령어 컴퓨터 | 복잡한 명령처리를 다수의 명령어들의 조합으로 처리할 수 있도록 소수의 단순한 명령어를 H/W화한 축소 명령형 컴퓨터 |
| 필요한 정보만으로 명령어를 저장(가변길이)하므로 낭비되는 코드를 줄일 수 있다.                        | 32bit의 고정된 명령어 길이로 파이프라인 적용 용이                                                               |
| 제어장치 : Micro-Program 방식                                                                        | 제어장치 : Hard-Wired 방식 (전선을 연결하여 논리 회로를 구성)                                                   |
| CPI가 1보다 크다                                                                                     | CPI가 1에 가깝다.                                                                                               |

- CISC는 명령어 종류와 길이 형식이 다양하며 이는 곧 프로그래밍을 유연하게 할 수 있다는 장접이 있는 반면에 해당 명령어들을 해석하고 각각을 실행하는 메커니즘이 복잡함을 의미한다. 이는 곧 성능 저하와 연결될 수 있는 부분이다.

- RISC는 CISC와 반대로 명령어의 종류가 작고 길이 또한 일정하기 때문에 명령어를 해석하고 실행하는 메커니즘이 단순하고 기계적이다. 이는 곧 성능 향상과 연결될 수 있으니 기계적으로 처리를 하기 때문에 프로그래밍의 유연성은 CISC에 비해 떨어지게 된다.

> **Control Unit 구현 방식**
>
> - Hard-Wired (고정배선방식) : H/W적으로 고정된 구현 방식으로 빠른 성능과 설계가 간단하다는 장점이 있는 반면 상태수 증가 시 H/W가 복잡해 지고 수정이 어려우며 가격 측면에서 S/W 방식보다 비싸다는 단점이 있다.
> - Micro-Program (S/W 방식) : H/W 방식에 비해 유연하게 제어가 가능하고 H/W 구조가 고정배선방식에 비해 간단하다. 하지만 고정배선방식에 비해 성능 이슈가 발생한다.

---

## 명령어 (Instruction)

> 특별한 동작을 수행하게 하는 비트들의 집합

### 명령어의 종류

- 데이터 전송
  - 레지스터 간, 레지스터와 기억장치 간, 기억장치 간 데이터 전송
  - LDA (Load Address)
  - STA (Store Address)
- 데이터 처리
  - 데이터에 대해 수행할 연산을 부여해 주는 것으로 산술 및 논리연산 등으로 분류
  - ADD (산술 연산)
  - AND (논리 연산)
- 프로그램 제어
  - 명령어 실행 순서를 변경하는 연산
  - BUN

### 명령어의 구조

|         |         |
| :-----: | :-----: |
| OP-Code | Operand |

### OP-Code

> 연산코드

- **CPU가 처리할 연산내용**이 저장되는 부분으로 4 bit 공간으로 구성되어 있으면 16개의 연산을 할 수 있다.

### Operand

- Op-Code가 사용할 Data의 주소 혹은 Data를 저장하는 저장장소
- 데이터 저장 또는 레지스터나 메모리의 주소를 지정
